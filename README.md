[//]: # 'README.md'
[//]: # 'MegaDocker'
[//]: # 'a standard github markdown readme file'
[//]: # 'Created by George Georgulas IV on 1/26/19.'
[//]: # 'Copyright © 2019 The MegaDocker Group. All rights reserved.'

# MegaDocker v0.2.5-alpha

Modular Enterprise-Grade Automated Docker

## Magically make microservices for the masses

Most recent change:
completed functions/core tests

![alt text](./src/images/icons/icon.png 'MegaDockerLogo')

[](#table-of-contents)

## Table of Contents

[TOC](#table-of-contents 'Jump back to the Table of Contents')

1. [About MEGADocker](#about-megadocker-a-brief-history-of-a-detonated-myrtlewood-in-a-dirty-marsh-magic-and-a-mad-doctor 'Learn about the history of MEGADocker')
2. [Mites](#mites 'AKA snippets')
3. [Memories](#memories 'AKA Microservice Settings')
4. [Manikins](#manikins 'AKA Microservices')
   1. [Core Manikins](#core-manikins 'AKA Microservices you have to have')
   2. [Included Manikins](#included-manikins 'AKA Microservices we wrote for you')
   3. [Custom Manikins](#custom-manikins 'AKA Microservices you write yourself')
5. [Mobs](#mobs 'AKA docker-compose files')

[](#about-megadocker-a-brief-history-of-a-detonated-myrtlewood-in-a-dirty-marsh-magic-and-a-mad-doctor)

## About MEGADocker - a brief history of a detonated Myrtlewood in a dirty marsh, magic, and a Mad Doctor

Once upon a time, there was a doctor (of sorts). He was probably more of an engineer than a doctor, but he would argue that the line between those things was much finer than people tended to acknowledge, and besides there was no good abbreviation for Engineer. He was definitely a bit insane then, and moreso by the end of this story, and so we will refer to him as The Mad Doctor.

Many, many, moons ago, The Mad Doctor was mildly deranged and mostly destitute. One day (mayhaps a dreary Monday in the month of March) as he sat in his domicile while munching on his delightful yet meager meal and debating the merits of the methodology he used to manage his money, The Mad Doctor noticed a Mote of light merrily dancing in the misty dew out his window. He decided to move closer to the Mote, so that he might determine what it might be made from, and what it may want, but it made a seemingly determined effort to escape him. He chased after it for what felt like months, but always it managed to dodge his mitts at the last moment. Eventually, The Mad Doctor decided to make a devious machine to catch the Mote. He molded some mud and mashed some mints into a mug to make a device that could catch the Mote in, and with a mischevious (but not malicious) grin, he set off to finally detain the thing that had dominated his delirious mind.

With his determined disposition and his mug full of mud and mints, he made haste to the dark, damp marsh where he last saw the Mote, but his muddled mind had been marred by the Mote's deceptive dance, and in his mental disaarray he forgot where he had last detected it. For many moons he despondently meandered, until one morning he met the Mote in the marsh. He climbed over a mossy dead maple and suddenly made note of the Mote, glowing mysteriously. The Mote drifted lazily through the marsh that morning, dipping and descending between the mildewed dogwoods.

The Mad Doctor deployed his mint-mud mug in the darkness that day, and waited for the Mote. He monitored the Mote's movements, and just when he thought the Mote might not like mint, the Mote dropped into the mug. The Mad Doctor mounted the mug (intending to mock the Mote), but just as he peered into the mug's depths, the Mote floated through the side of the mug, mindless of both mud and mint, dodging The Mad Doctor to depart into the darkness.

The Mad Doctor was distraught. Matter didn't do this, The Mad Doctor's mind declared. "Maybe the Mote is Magic", The Mad Doctor muttered to himself, and just then the Mote detonated, destroying the mighty Myrtlewood it was ducked behind. The Myrtlewood rained down into the marsh, with not even a dent to The Mad Doctor's hat (which he had made of tin-foil, naturally). He looked around, amazed that the destruction had defintely missed him by about a meter.

As The Mad Doctor watched a piece of the Myrtlewood debris disappear into the murky marsh, he noticed a tiny modicum of the Mote (maybe a Mite, he mused) drifting out of the muck, then another, and another. But before he could catch them, they diffused into the remnants of the Myrtlewood, which then started to migrate towards The Mad Doctor menacingly.

The Mad Doctor was mortified; he decided this mangled Myrtlewood would be his doom, and so he departed without delay. He made a break for his home - a mad dash through the dark and dreary marsh - but momentarily, he was run down. The Myrtlewood fragments surrounded The Mad Doctor, and he knew in that moment that his days were done. Dejected, disgraced, defeated by a Mote of light, The Mad Doctor accepted his death.

Despondent, The Mad Doctor dropped his head, his mind racing with depictions of his murderous demise. The Mites, (now recognizable as mirror miniatures of the Mote) drew closer, but did not dispatch him. Indeed, the Mites dispersed from his immediate milieu and deigned to detail a dimly-lit path over drier parts of the dark and dreary marsh, dancing (more-or-less) towards his definite destination. The Mad Doctor, now delighted (if you'll excuse the pun), made his way along the makeshift map, daintily dabbing at the mud and finding the path that the no longer menacing Mites drew out to be dry.

As The Mad Doctor made his way back home, the Mites milled about, dragging a trail behind the Mad Doctor like a marriage-day dress made of moonlight. This delighted The Mad Doctor, and by the time he made it to his door, he knew that he would miss the Mites if they were to depart. The Mad Doctor, after all, had been lonely in his modest little workshop. He opened his door, and turned around, hoping that the Mites hadn't merely been another of his occasional mental daydreams, and to The Mad Doctor's surprise the Mites had delayed. For an awkward moment the Mites and The Mad Doctor did nothing, until the Mad Doctor declared, "The Marsh is damp and miserable. Please, my dear Mites, come inside with me and we can make you something more fun to dance with from this Myrtlewood in the morning.". The Mites (both in and out of their Myrtlewood masks) drummed against the ground and danced around each other, until they decided they would join the Mad Doctor, and they all made their way inside.

The next day as the morning sun dawned, the Mad Doctor awoke, convinced this had all been a maniacal dream, and that the Mites, the Mote, the Myrtlewood, and even his mug full of mud and mint had merely been another delusion. He rubbed the dust from his eyes and the corners of his mouth, put on his monocle and dropped his feet off the side of his bed, ready to get back to work making the many machines he had designed at his desk. Just before his dirty feet (mud from the marsh had dried on them) touched the floor, he saw a glimmer on his mantle reflected in the mirror from just outside metal edge of his monoce.

The Mad Doctor moved his head to look at the mirror, but detected no Mite on his mantle. Discouraged, he looked down at the mildly dusty floor, where to his surprise he saw there were millions of shreds of the massive Myrtlewood scattered around his room. Right as he noticed them there, the little Mites began to glow and pulse merrily until The Mad Doctor had to look away. The Mites spread away from him, clearing a path to his making-table in the main room of The Mad Doctor's workshop.

The Mad Doctor moseyed into the main room, where he saw mountains of Mites on the making-table by his Myrtlewood making-mallet. The Mites hummed a mirthful sort of monotone music, divided into multiple mounds of both differing design and disposition. The Mad Doctor declined into his making-chair, and to his delight, the Mites moved his mallet towards him, leaving a mildly muddy trail along their drive. The Mites were moist and therefore mostly malleable, he determined. The Mad Doctor mused that the Mites seemed like they desired to be more, and that they might need his help to do so. He took his making-mallet into his hands and realized some of the Mites' magic had migrated into it.

The Mad Doctor looked back at his making-table, and saw that several Mites were making themselves into the model of a miniature arm. As he leaned over to delve into this miraculous development, he noticed that his making-mallet started to glow more brightly. When he moved the mallet next to the miniature arm and the glow grew detectably more mighty, which made the Mad Doctor still more disquisitive. Perhaps even more mysterious, the arm Mites' music grew even more merry.

The Mad Doctor suddenly knew what the Mites wanted (or so he had determined), and he swung the making-mallet down mightily on the arm Mites.

Ding!

The sound rang out through The Mad Doctor's workshop.

Instantly, the music went dead. Dismayed, The Mad Doctor drew back, mortified that he may have destroyed his new magical friends. He dropped the making-mallet and was mollified by the discovery that the model of an arm had formed into a tiny arm made of Myrtlewood. The Mites began to hum again, and more of them formed into the design of another arm.

Ding! The Mites formed into a torso. Ding! The arms fused together with the torso. Ding! Ding! A pair of legs, too. Ding! They attached themsleves to the upper body.

With each new appendage, the little doll began to glow even more.

The Mites formed the shape of a head. Ding! The Mad Doctor paused. What if these little Myrtlewood Mites meant him malice? But they did help him find his way home, didn't they?

His hands shaking, The Mad Doctor raised the magical making-mallet again. This might be dangerous, but he must know what the little doll would do.

Ding!

The Mad Doctor moved the making-mallet closer to him defensively, and monitored the newly-minted doll.

The doll stood up in a method not unlike the manner that a man might. The Mad Doctor asked the doll in a mousy voice, "Who are you, mysterious little doll? What do you want from me, my little Manikin?".

The Manikin pointed at the making-mallet, mutely turning it's head to face The Mad Doctor. The Mites on the making-table moved into the design of more models, and the Manikin motioned to each of them definitively in turn, miming the mallet motion The Mad Doctor made, and all the while meeting his gaze.

For a moment, The Mad Doctor meditated on what dreadful monstrosities might derive from the machinations of the Manikin, but only for a moment. Ding! Ding! Ding! Another Manikin developed on the making-table. Ding! Ding! Ding! As more of the magic dolls were emitted by the mound of Mites, the mushrooming Mob of Manikins began helping to mold the parts of their duplicate draftees. Ding! Ding! Ding! As the Mob grew more multitudinous and the mound of Mites grew more miniscule, the Mad Doctor began to sing along with the Manikins in their mumbling diction. Ding! Ding! Ding! The din of The Mad Doctor's making-mallet drummed out a delerious and disconcerting metre on his making-table.

Minutes metamorphosed into hours, and before The Mad Doctor knew it the, the next day had dawned, and the seemingly measureless mound of Mites had been depleted. Surroiunding The Mad Doctor was a mighty Mob of Manikins, mutely mimicking The Mad Doctor. The Mad Doctor desisted, dropping his making-mallet by his side. He was drained; the demands of the Manikin's magic had debiltated him. The Mad Doctor grew dizzy. He reached in vain for the edge of the making-table, but fainted, descending to the floor, and knocking over his making-mallet with a final muted "ding".

The Manikins looked down at The Mad Doctor from the mantle, from the making-table, and from the many places they had dispositioned themsleves. They looked at each other, and their mumbled music took on a questioning tone as they debated their next move. The Mad Doctor had helped them, and so they decided to help him mutually. The Mob moved, disciplined, as one magnanimously motivated dedicated division. They lifted The Mad Doctor and moved him back to his bed to rest.

As The Mad Doctor drowsed, his delusional dreams distressed him. He mumbled to himself, but the Manikins did not mitigate it. They marched back to The Mad Doctor's making-table, and together they manipulated his making-mallet. Ding! the Manikins' ditty drilled into his head with measure of the making-mallet. Ding! Sometimes their ditty devolved into a depressing dirge, others it morphed into a militarstic marching song. Ding! Ding! Ding!

The Mad Doctor awoke alone in his den. No moonlight made it through his dusky drapes. The making-mallet was distant and muffled, but still he discovered it amidst the music of the Manikins. The Mad Doctor stumbled to the door, but it seemed more distant than in his memory. How long had he dreamt?

The dulcet Ding of the making-mallet grew more distinct, and maybe most disturbingly The Mad Doctor's door handle was different. Was this a dream?

He delicately opened the door and looked down. This was not the mere dirt floor of his meager home. The Manikins had definitely detained him deep in some dungeon. Dismayed, he descended the stairs he discovered outside the doorway. With each meter into the depths, the making-mallet's Ding was more deafening.

As he neared a massive marble door near the bottom of the stairs, The Mad Doctor discerned a marvelous scent. As he stopped to smell it, the mirthful music of the Manikins suddenly ceased. Did he dare open the door?

As The Mad Doctor debated, a Manikin opened the door, carrying a dish full of delectable muffins and doughnuts. The Manikin dutifully delivered the dish to him, but The Mad Doctor barely paid it mind.

His making-table and making-mallet were there, but this was most definitely not The Mad Doctor's workshop. His dirt floors were now metal, his modest drapes replaced with decorative dossers, his demure wood stove made into a much more majestic model, and everywhere he looked, the Mob of Manikins milled about his majorly developed manufactory.

The Mad Doctor was dumbstruck. "Did you Manikins do all this?", he muttered. The Mob looked at him and nodded in unison. A Manikin brought him a cup of matcha tea and handed him a muffin from the dish, then dispensed a modicum of margarine on it, which melted directly.

The Mad Doctor decided that the Manikins were defintely a dynamic and mighty magic. As he plopped down at his making-table in disbelief, he marvelled at the myriad duties the Manikins had done so masterfully. What were the maximum margins of this delightful development?

"Could I maybe have a doily?", The Mad Doctor asked the Mob. Ding! A Manikin brought him one. "Would you do my dishes?" Ding! A Manikin departed with his dirty plate and decanter. "Did the daily paper arrive?" Ding! Another Manikin brought him a news magazine. "Might I have a manicure?" Ding! Half a dozen Manikins started to massage his hand and clean the detritus from under his nails.

The Mad Doctor's requests turned to demands. "Bring that document to me." Ding! "Make me some marmalade." Ding! "Dig me a deep ditch." Ding! The Manikins danced at his commands, desperate to meet his desires.

Eventually, The Mad Doctor's demands became demonstrations of his power. "Design me a modern dock made of decoupage!" Ding! "Move that mountain to the moon!" Ding! "Massacre a million mosquitos!" Ding! "Dedicate a dozen demonstrations to my majesty!" Ding!

And every time The Mad Doctor made a decision, the Mob devotedly discharged The Mad Doctor's missions. Day and night, the Manikins marched down from his mansion to do whatever The Mad Doctor decreed.

And The Mad Doctor lived (mostly) happily ever after.

[TOC](#table-of-contents 'Jump back to the Table of Contents')

[](#mites-manikins-memories-and-mobs)

## Mites, Manikins, Memories, and Mobs

MEGADocker uses 4 fundamental building blocks:

> **_Mobs_**: an armada of manikins running around doing your bidding
>
> -- which are composed of
>
> > **_Manikins_**: little wooden dolls that want do your bidding
> >
> > -- which, in turn, are composed of
> >
> > > **_Mites_**: magical doodads that bring a manikin to life to do your bidding
> > >
> > > _and_
> > >
> > > **_Memories_**: how a manikin remembers what your bidding is.

You'll use MEGADocker to make your **Mob** of **Manikins**. MEGADocker manages the **Mites**, and tells you what **Memories** you **Mob** mandates, and where you might find that information. Then you just tell your **Mob** their **Memories** and make them march out to do your magnificent bidding.

You can also make your own **Mites** and mold them into all manner of **Manikins** to make your **Mobs** mightier.

[TOC](#table-of-contents 'Jump back to the Table of Contents')

[](#mites)

## Mites

**Mites** represent snippets of plain text (in the form of [TypeScript](https://www.typescriptlang.org) objects that conform to the `IMite` interface) that contain part of a **Manikin**'s file. This is almost always a snippet of [YAML](https://yaml.org) used to create a **Manikin** in a `pod.yml` or `docker-compose.yml` file, although a **Mite** can contain any kind of snippet necessary to make a configuration file for any application you can think of.

[TOC](#table-of-contents 'Jump back to the Table of Contents')

[](#memories)

## Memories

**Memories** represent the choices a user needs to make to configure a **Mob**. **Memories** can contain any kind of data, and their values will modify the output of one or more **Mites** in your **Mob**. For instance, if your **Manikin** needs to know where a volume is on your host to save data, when you add that Manikin to your **Mob**, the _Memories Table_ will add a row to request the location of that folder. If another **Manikin** also needs access to that **Memory**, it will automatically have that information.

[TOC](#table-of-contents 'Jump back to the Table of Contents')

[](#manikins)

### Manikins

**Manikins** represent a given microservice running in your [Docker](https://www.docker.com) swarm or [Kubernetes](https://kubernetes.io) cluster.

[TOC](#table-of-contents 'Jump back to the Table of Contents')

[](#core-manikins)

#### Core Manikins

MEGADocker **Mobs** require a minimal core of **Manikins** to run services that are necessary for the **Mob** to function. When you generate a new **Mob**, these **Manikins** will already be in it, and their **Memories** will be in the _Memories Table_ waiting for you to populate them.

[TOC](#table-of-contents 'Jump back to the Table of Contents')

[](#included-manikins)

#### Included Manikins

MEGADocker includes Manikins for a number of common uses, and we add more all the time. These **Manikins** are optional, strictly speaking, but you'll probably want a few to do something useful for you.

[TOC](#table-of-contents 'Jump back to the Table of Contents')

[](#custom-manikins)

#### Custom Manikins

While MEGADocker includes many **Manikins**, we can't do everything… yet. If you find that we are missing that one **Manikin** you need, you can write it yourself and build a custom version of MEGADocker for yourself. Of course, we'd love it if you added those **Manikins** to [this repo](https://github.com/VirtualEstatePlanner/MD), but you don't have to. Because MEGADocker is open source, you can look at any of the source code for existing **Manikins** and **Mites** to see how we do it.

[TOC](#table-of-contents 'Jump back to the Table of Contents')

[](#mobs)

### Mobs

**Mobs** represent a full stack of microservices (**Manikins**) deployed across a cluster or swarm of hosts. **Mobs** are saved as `.megadocker` files, and can also be exported as a `pod.yaml` or `docker-compose.yml` file to be used in Kubernetes or Docker swarm mode.

[TOC](#table-of-contents 'Jump back to the Table of Contents')
